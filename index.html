<html>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
	<head>
 		<title>Las Antipodas</title>
		<style>
			#map, #map2 {
				width:500px;
				height: 400px;
			}
 		</style>
 	</head>
	<body>
    <strong>Location</strong>
    <p id='map'></p>
    <strong>Antipodes</strong>
    <p id="map2"></p>
    <script type="text/javascript" charset="utf-8">
      var mapDiv = document.getElementById("map");
      function getAntipodes(location) {
        return antipodes = {
          lat: -location.lat,
          lng: (location.lng < 0) ? location.lng + 180 : location.lng -180
        };
      }

      function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(initMap);
        } else {
            mapDiv.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      function initMap(position){
        var location = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
        }
				var map = new google.maps.Map(mapDiv, {
					center: location,
					zoom: 8
				});
        var map2Div = document.getElementById("map2");
        var map2 = new google.maps.Map(map2Div, {
          center: getAntipodes(location),
          zoom: 8
        })
 			}
 		</script>
		<script src = "https://maps.googleapis.com/maps/api/js?callback=getLocation" async defer></script>
	</body>
</html>
